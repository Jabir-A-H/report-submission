jinja2.exceptions.UndefinedError
jinja2.exceptions.UndefinedError: 'month' is undefined

Traceback (most recent call last)
File "F:\WebDev\report-submission\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    ) -> cabc.Iterable[bytes]:
        """The WSGI server calls the Flask application object as the
        WSGI application. This calls :meth:`wsgi_app`, which can be
        wrapped to apply middleware.
        """
        return self.wsgi_app(environ, start_response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
File "F:\WebDev\report-submission\venv\Lib\site-packages\flask\app.py", line 1514, in wsgi_app
            try:
                ctx.push()
                response = self.full_dispatch_request()
            except Exception as e:
                error = e
                response = self.handle_exception(e)
                           ^^^^^^^^^^^^^^^^^^^^^^^^
            except:  # noqa: B001
                error = sys.exc_info()[1]
                raise
            return response(environ, start_response)
        finally:
File "F:\WebDev\report-submission\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
        ctx = self.request_context(environ)
        error: BaseException | None = None
        try:
            try:
                ctx.push()
                response = self.full_dispatch_request()
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
            except Exception as e:
                error = e
                response = self.handle_exception(e)
            except:  # noqa: B001
                error = sys.exc_info()[1]
File "F:\WebDev\report-submission\venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
            request_started.send(self, _async_wrapper=self.ensure_sync)
            rv = self.preprocess_request()
            if rv is None:
                rv = self.dispatch_request()
        except Exception as e:
            rv = self.handle_user_exception(e)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        return self.finalize_request(rv)
 
    def finalize_request(
        self,
        rv: ft.ResponseReturnValue | HTTPException,
File "F:\WebDev\report-submission\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
 
        try:
            request_started.send(self, _async_wrapper=self.ensure_sync)
            rv = self.preprocess_request()
            if rv is None:
                rv = self.dispatch_request()
                     ^^^^^^^^^^^^^^^^^^^^^^^
        except Exception as e:
            rv = self.handle_user_exception(e)
        return self.finalize_request(rv)
 
    def finalize_request(
File "F:\WebDev\report-submission\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
            and req.method == "OPTIONS"
        ):
            return self.make_default_options_response()
        # otherwise dispatch to the handler for that endpoint
        view_args: dict[str, t.Any] = req.view_args  # type: ignore[assignment]
        return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
 
    def full_dispatch_request(self) -> Response:
        """Dispatches the request and on top of that performs request
        pre and postprocessing as well as HTTP exception catching and
        error handling.
File "F:\WebDev\report-submission\venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
            return current_app.login_manager.unauthorized()
 
        # flask 1.x compatibility
        # current_app.ensure_sync is only available in Flask >= 2.0
        if callable(getattr(current_app, "ensure_sync", None)):
            return current_app.ensure_sync(func)(*args, **kwargs)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        return func(*args, **kwargs)
 
    return decorated_view
 
 
File "F:\WebDev\report-submission\app.py", line 201, in dashboard
 
@app.route("/")
@login_required
def dashboard():
    if is_admin():
        return render_template("admin_reports.html", user=current_user)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    else:
        # Get month/year from query params or set defaults
        from datetime import datetime
 
        month = request.args.get("month", None)
File "F:\WebDev\report-submission\venv\Lib\site-packages\flask\templating.py", line 150, in render_template
        a list is given, the first name to exist will be rendered.
    :param context: The variables to make available in the template.
    """
    app = current_app._get_current_object()  # type: ignore[attr-defined]
    template = app.jinja_env.get_or_select_template(template_name_or_list)
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
 
 
def render_template_string(source: str, **context: t.Any) -> str:
    """Render a template from the given source string with the given
    context.
File "F:\WebDev\report-submission\venv\Lib\site-packages\flask\templating.py", line 131, in _render
def _render(app: Flask, template: Template, context: dict[str, t.Any]) -> str:
    app.update_template_context(context)
    before_render_template.send(
        app, _async_wrapper=app.ensure_sync, template=template, context=context
    )
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
    template_rendered.send(
        app, _async_wrapper=app.ensure_sync, template=template, context=context
    )
    return rv
 
File "F:\WebDev\report-submission\venv\Lib\site-packages\jinja2\environment.py", line 1295, in render
        ctx = self.new_context(dict(*args, **kwargs))
 
        try:
            return self.environment.concat(self.root_render_func(ctx))  # type: ignore
        except Exception:
            self.environment.handle_exception()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
 
    async def render_async(self, *args: t.Any, **kwargs: t.Any) -> str:
        """This works similar to :meth:`render` but returns a coroutine
        that when awaited returns the entire rendered template string.  This
        requires the async feature to be enabled.
File "F:\WebDev\report-submission\venv\Lib\site-packages\jinja2\environment.py", line 942, in handle_exception
        """Exception handling helper.  This is used internally to either raise
        rewritten exceptions or return a rendered traceback for the template.
        """
        from .debug import rewrite_traceback_stack
 
        raise rewrite_traceback_stack(source=source)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
 
    def join_path(self, template: str, parent: str) -> str:
        """Join a template with the parent.  By default all the lookups are
        relative to the loader root so this method returns the `template`
        parameter unchanged, but if the paths should be relative to the
File "F:\WebDev\report-submission\templates\admin_reports.html", line 1, in top-level template code
{% extends 'base.html' %}
{% block title %}রিপোর্ট ব্যবস্থাপনা{% endblock %}
{% block content %}
<div class="container mx-auto px-4 py-8 animate-fade-in">
  <div class="text-center mb-8">
    <h1 class="text-3xl font-bold text-cyan-700 mb-2">রিপোর্ট ব্যবস্থাপনা</h1>
File "F:\WebDev\report-submission\templates\base.html", line 87, in top-level template code
        });
      });
    </script>
    </header>
    <main class="mx-auto max-w-screen-xl px-4 py-8 mb-8 mt-24">
      {% block content %}{% endblock %}
    </main>
    <footer
      class="bg-white/80 text-center py-6 border-t border-blue-100 text-gray-500 text-lg font-bold tracking-wide"
    >
      &copy; ২০২৫ রিপোর্ট সাবমিশন সিস্টেম | v1.0
File "F:\WebDev\report-submission\templates\admin_reports.html", line 21, in block 'content'
          {% endfor %}
        </select>
        <select name="month" class="p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500" aria-label="মাস" required>
          <option value="">মাস</option>
          {% for i in range(1, 13) %}
          <option value="{{ i }}" {% if i == month|int %}selected{% endif %}>{{ get_month_name(i) }}</option>
          {% endfor %}
        </select>
        <select name="year" class="p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500" aria-label="বছর" required>
          <option value="">বছর</option>
          {% for y in [2025, 2026] %}
File "F:\WebDev\report-submission\venv\Lib\site-packages\jinja2\filters.py", line 998, in do_int
    """
    try:
        if isinstance(value, str):
            return int(value, base)
 
        return int(value)
               ^^^^^^^^^^
    except (TypeError, ValueError):
        # this quirk is necessary so that "42.23"|int gives 42.
        try:
            return int(float(value))
        except (TypeError, ValueError, OverflowError):
jinja2.exceptions.UndefinedError: 'month' is undefined
The debugger caught an exception in your WSGI application. You can now look at the traceback which led to the error.
To switch between the interactive traceback and the plaintext one, you can click on the "Traceback" headline. From the text traceback you can also create a paste of it. For code execution mouse-over the frame you want to debug and click on the console icon on the right side.

You can execute arbitrary Python code in the stack frames and there are some extra helpers available for introspection:

dump() shows all variables in the frame
dump(obj) dumps all that's known about the object
Brought to you by DON'T PANIC, your friendly Werkzeug powered traceback interpreter.