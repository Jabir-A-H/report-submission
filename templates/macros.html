{% macro context_link(endpoint, text, year=None, month=None, report_type=None,
class_override=None) -%} {%- set args = {} -%} {%- if year is not none %}{% set
_ = args.update({'year': year}) %}{% endif %} {%- if month is not none %}{% set
_ = args.update({'month': month}) %}{% endif %} {%- if report_type is not none
%}{% set _ = args.update({'report_type': report_type}) %}{% endif %} {%- set
default_classes = "text-sm text-gray-700 hover:text-purple-600 px-2 py-1 rounded
transition-colors" -%} {%- set mobile_classes = "block py-2 text-sm
text-gray-700 hover:text-purple-600" -%}
<a
  href="{{ url_for(endpoint, **args) }}"
  class="{{ class_override or default_classes }} {% if request.endpoint == endpoint %}text-purple-600 font-medium bg-purple-50{% endif %}"
  >{{ text }}</a
>
{%- endmacro %} {% macro context_link_mobile(endpoint, text, year=None,
month=None, report_type=None) -%} {%- set args = {} -%} {%- if year is not none
%}{% set _ = args.update({'year': year}) %}{% endif %} {%- if month is not none
%}{% set _ = args.update({'month': month}) %}{% endif %} {%- if report_type is
not none %}{% set _ = args.update({'report_type': report_type}) %}{% endif %}
<a
  href="{{ url_for(endpoint, **args) }}"
  class="block py-2 text-sm text-gray-700 hover:text-purple-600 {% if request.endpoint == endpoint %}text-purple-600 font-medium bg-purple-50 -mx-2 px-2 rounded{% endif %}"
  >{{ text }}</a
>
{%- endmacro %} {% macro render_pagination(pagination, endpoint='dashboard',
month=None, year=None, report_type=None) -%} {% if pagination %}
<div
  class="flex items-center justify-between mt-6 px-4 py-3 bg-white border-t border-gray-200 sm:px-6 rounded-b-lg"
>
  <div class="flex justify-between flex-1 sm:hidden">
    {% if pagination.has_prev %}
    <a
      href="{{ url_for(endpoint, page=pagination.prev_num, month=month, year=year, report_type=report_type) }}"
      class="relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"
    >
      Previous
    </a>
    {% endif %} {% if pagination.has_next %}
    <a
      href="{{ url_for(endpoint, page=pagination.next_num, month=month, year=year, report_type=report_type) }}"
      class="relative ml-3 inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"
    >
      Next
    </a>
    {% endif %}
  </div>
  <div class="hidden sm:flex sm:flex-1 sm:items-center sm:justify-between">
    <div>
      <p class="text-sm text-gray-700">
        Showing
        <span class="font-medium"
          >{{ ((pagination.page - 1) * pagination.per_page) + 1 }}</span
        >
        to
        <span class="font-medium"
          >{{ (pagination.page * pagination.per_page) if (pagination.page *
          pagination.per_page) < pagination.total else pagination.total }}</span
        >
        of
        <span class="font-medium">{{ pagination.total }}</span>
        results
      </p>
    </div>
    <div>
      <nav
        class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px"
        aria-label="Pagination"
      >
        {% if pagination.has_prev %}
        <a
          href="{{ url_for(endpoint, page=pagination.prev_num, month=month, year=year, report_type=report_type) }}"
          class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"
        >
          <span class="sr-only">Previous</span>
          <svg
            class="h-5 w-5"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 20 20"
            fill="currentColor"
            aria-hidden="true"
          >
            <path
              fill-rule="evenodd"
              d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z"
              clip-rule="evenodd"
            />
          </svg>
        </a>
        {% endif %} {% for page_num in pagination.iter_pages() %} {% if page_num
        %} {% if page_num == pagination.page %}
        <span
          class="relative inline-flex items-center px-4 py-2 border border-purple-500 bg-purple-50 text-sm font-medium text-purple-600"
          >{{ page_num }}</span
        >
        {% else %}
        <a
          href="{{ url_for(endpoint, page=page_num, month=month, year=year, report_type=report_type) }}"
          class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"
          >{{ page_num }}</a
        >
        {% endif %} {% else %}
        <span
          class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700"
          >...</span
        >
        {% endif %} {% endfor %} {% if pagination.has_next %}
        <a
          href="{{ url_for(endpoint, page=pagination.next_num, month=month, year=year, report_type=report_type) }}"
          class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"
        >
          <span class="sr-only">Next</span>
          <svg
            class="h-5 w-5"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 20 20"
            fill="currentColor"
            aria-hidden="true"
          >
            <path
              fill-rule="evenodd"
              d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
              clip-rule="evenodd"
            />
          </svg>
        </a>
        {% endif %}
      </nav>
    </div>
  </div>
</div>
{% endif %} {%- endmacro %}
